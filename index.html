<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>ember.js - Introduction</title>

		<meta name="description" content="ember.js - Introduction">
		<meta name="author" content="Miguel Cobá">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/black.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>ember.js</h1>
					<h3>Introduction</h3>
					<p>
						<small>Created by <a href="http://miguel.leugim.com.mx">Miguel Cobá</a> / <a href="http://twitter.com/MiguelCobaMtz">@MiguelCobaMtz</a></small>
					</p>
				</section>

				<section>
					<h3>Part 1</h3>
					<h1>ember.js</h1>
				</section>

				<section>
					<h1>ember.js</h1>
					<h3>A framework for creating ambitious web applications</h3>
					<p><a href="http://emberjs.com">emberjs.com</a></p>
					<p><a href="https://github.com/emberjs/ember.js">github.com/emberjs/ember.js</a></p>
				</section>

				<section>
					<section>
						<h1>Overview</h1>
						<p class="fragment">Router</p>
						<p class="fragment">Route</p>
						<p class="fragment">Controller</p>
						<p class="fragment">Template</p>
						<p class="fragment">Model</p>
					</section>
					<section>
						<h2>Router</h2>
						<p>Translates URLs to a series of nested templates, each backed by a model</p>
					</section>
					<section>
						<h2>Router</h2>
						<p>Autogenerate several objects if not defined explicitly</p>
						<ul>
						<li class="fragment">Route</li>
						<li class="fragment">Controller</li>
						<li class="fragment">Views (that render templates)</li>
						<li class="fragment">Templates (empty by default)</li>
						</ul>
					</section>
					<section>
						<h2>Router</h2>
						<p>Define URL mapping</p>
						<p class="fragment">Create required objects</p>
						<p class="fragment">Delegate action to the Route object</p>
					</section>
					<section>
						<h2>Router</h2>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.Router.map(function() {
  this.route('todos');
});
						</code></pre>
					</section>
					<section>
						<h2>Route</h2>
						<p>Is responsible of telling the template which model to display</p>
						<p class="fragment">Binds a model to a controller</p>
						<p class="fragment">Can have global event handlers</p>
					</section>
					<section>
						<h2>Controller</h2>
						<p>Grants access to model from template</p>
						<p class="fragment">Templates are always connected to a controller</p>
						<p class="fragment">Acts as a proxy for a model</p>
						<p class="fragment">Decorates a model for presentation. e.g. formatting</p>
						<p class="fragment">Holds application state. e.g. info we don't want to lose between page refresh</p>
						<p class="fragment">Can have event handlers. e.g. button click</p>
					</section>
					<section>
						<h2>Template</h2>
						<p>Describe the user interface of the Application</p>
						<p class="fragment">Automatically updates when the model changes</p>
						<p class="fragment">Written in the <a href="http://www.handlebars.com">Handlebars</a> templating language</p>
					</section>
					<section>
						<h2>Template</h2>
						<p class="fragment">It can contain</p>
						<ul>
							<li class="fragment">Expressions (takes info from a model and place it into html)
								<p><pre><code>{{firstName}}</code></pre></p>
							</li>
							<li class="fragment">Outlets (placeholders for other templates)
								<p><pre><code>{{outlet}}</code></pre></p>
							</li>
							<li class="fragment">Components (customized fragments of UI that can be reused)
								<p><pre><code>{{date-picker}}</code></pre></p>
							</li>
						</ul>
					</section>
					<section>
						<h2>Model</h2>
						<p>Object representation of the data in the application</p>
 						<p class="fragment">A class that defines the properties and behavior of the data</p>
						<p class="fragment">Stores persistent data</p>
						<p class="fragment">A model doesn't know which controller(s) will use it</p>
						<blockquote class="fragment" cite="http://guides.emberjs.com/v1.12.0/models/">
							&ldquo; Anything that the user expects to see if they leave your app and come back later (or if they refresh the page) should be represented by a model.&rdquo;
						</blockquote>
					</section>
					<section>
						<h2>Model</h2>
						<p class="fragment">It can be</p>
						<ul>
							<li class="fragment">Javascript objects</li>
							<li class="fragment">Ember objects</li>
							<li class="fragment">Ember Data objects</li>
						</ul>
					</section>
				</section>

				<section>
					<h1>Ember Inspector</h1>
					<p>Search for "Ember Inspector" in Google Chrome Store</p>
					<p class="fragment">Make sure you enable "Allow access to file URLs" checkbox on <em>Chrome -&gt; Settings -&gt; Extensions -&gt; Ember Inspector plugin</em> if you want to open Ember apps from your filesystem</p>
				</section>

				<section>
					<h1>Ember Starter Kit</h1>
					<p><a href="https://github.com/emberjs/starter-kit">github.com/emberjs/starter-kit</a></p>
				</section>

				<section>
					<h1>Conference registration example App</h1>
					<p>Goal: Write a Conference registration App</p>
					<p class="fragment"><em>Use Ember Starter Kit as a starting point</em></p>
				</section>

				<section>
					<h2>Create project</h2>
					<pre><code class="bash" data-trim style="font-size: 18px;">
$ git clone https://github.com/emberjs/starter-kit.git conf-registry
$ cd conf-registry
$ subl index.html # or vim index.html
					</code></pre>
				</section>

				<section>
					<h2>index.html</h2>
					<pre><code class="html" data-trim style="font-size: 18px;">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;Ember Starter Kit&lt;/title&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;css/normalize.css&quot;&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;css/style.css&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;script type=&quot;text/x-handlebars&quot;&gt;
    &lt;h2&gt;Welcome to Ember.js&lt;/h2&gt;

    {{outlet}}
  &lt;/script&gt;

  &lt;script type=&quot;text/x-handlebars&quot; id=&quot;index&quot;&gt;
    &lt;ul&gt;
    {{#each item in model}}
      &lt;li&gt;{{item}}&lt;/li&gt;
    {{/each}}
    &lt;/ul&gt;
  &lt;/script&gt;

  &lt;script src=&quot;js/libs/jquery-1.10.2.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;js/libs/ember-template-compiler-1.12.0.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;js/libs/ember-1.12.0.debug.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;js/app.js&quot;&gt;&lt;/script&gt;
  &lt;!-- to activate the test runner, add the &quot;?test&quot; query string parameter --&gt;
  &lt;script src=&quot;tests/runner.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
					</code></pre>
					<p>Delete the two scripts with type 'text/x-handlebars'</p>
				</section>
	
				<section>
					<h2>js/app.js</h2>
					<pre><code class="javascript" data-trim style="font-size: 18px;">
App = Ember.Application.create();

App.Router.map(function() {
  // put your routes here
});

App.IndexRoute = Ember.Route.extend({
  model: function() {
    return ['red', 'yellow', 'blue'];
  }
});
					</code></pre>
					<p>Delete the App.IndexRoute declaration</p>
				</section>

				<section>
					<section>
						<h3>index.html</h3>
						<h4>Create global application template</h4>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot;&gt;
  &lt;h1&gt;Ember.js Conf 2015 registry&lt;/h1&gt;

  {{outlet}}
&lt;/script&gt;
						</code></pre>
						<p>The outlet is where all the templates are going to be displayed</p>
					</section>

					<section>
						<p>Open index.html in your browser</p>
						<p class="fragment">Nothing displayed yet in outlet</p>
						<p class="fragment">Why? Doesn't ember.js autogenerate Routes and Controllers?</p>
						<p class="fragment">Yes, but not templates!</p>
					</section>
					<section>
						<p>Ember.js creates a default route, even if we don't define any mapping</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
// default route mapping created by app
App.Router.map( function() {
   this.resource( 'index', { path: '/' } );
});

// Default Application Route created by app
// It is entered when your app first boots up. 
// It renders the application template.
App.ApplicationRoute = Ember.Route.extend({});

// Default Index Route created by app
// It is the default route, and will render the index template when the
// user visits / (unless / has been overridden by your own custom route).
App.IndexRoute = Ember.Route.extend({});
						</code></pre>
						<p><span class="fragment highlight-red">None</span> of them need to be defined explicitly (unless you want). They are part of every Ember application</p>
					</section>
					<section>
						<p>When accessing that path ('/'), ember.js autogenerates, if they don't exist:</p>
						<ul>
							<li class="fragment">IndexRoute</li>
							<li class="fragment">IndexController</li>
						</ul>
						<p class="fragment">But as there is no index template, nothing is rendered in the outlet</p>
					</section>
				</section>

				<section>
					<section>
						<h3>index.html</h3>
						<h4>Create an index template</h4>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;index&quot;&gt;
  &lt;h2&gt;Welcome to the Ember.js Conf 2015&lt;/h2&gt;
&lt;/script&gt;
						</code></pre>
						<p>Now the index template is rendered</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Lets add a register page</h2>
						<p>We need to:</p>
						<ul>
							<li class="fragment">Create a <em>Register</em> Route</li>
							<li class="fragment">Link to register page in index template</li>
							<li class="fragment">Add a <em>register</em> template</li>
						</ul>
					</section>

					<section>
						<h2>js/app.js</h2>
						<p>Create a <em>Register</em> route</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.Router.map(function() {
  // put your routes here
  this.route('register');
});
						</code></pre>
					</section>

					<section>
						<h2>index.html</h2>
						<p>Add link to register page in index template</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;index&quot;&gt;
  &lt;h2&gt;Welcome to the Ember.js Conf 2015&lt;/h2&gt;

  {{#link-to 'register'}}Register here{{/link-to}} to get you ticket to the best confererce in the ember.js world.&lt;br/&gt;
&lt;/script&gt;
						</code></pre>
						<p>The {{link-to}} helper creates a link to a route</p>
					</section>

					<section>
						<h2>index.html</h2>
						<p>Add a <em>register</em> template</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;register&quot;&gt;
  &lt;h3&gt;Please enter your info&lt;/h3&gt;
  &lt;label for='firstName'&gt;First Name&lt;/label&gt;
  {{input}}&lt;br/&gt;
  &lt;label for='lastName'&gt;Last Name&lt;/label&gt;
  {{input}}&lt;br/&gt;
  &lt;label for='email'&gt;Email&lt;/label&gt;
  {{input}}&lt;br/&gt;

  &lt;button&gt;Register&lt;/button&gt;
&lt;/script&gt;
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h2>Data binding</h2>
						<p>Bind a controller to the <em>register</em> template</p>
					</section>
					<section>
						<h2>js/app.js</h2>
						<p>Create a <em>Register</em> Route to set the model for the template</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.RegisterRoute = Ember.Route.extend({
  model: function() {
    return { firstName: "", lastName: "", email: ""}
  }
});
						</code></pre>
						<p>The model is exposed to the template through a controller (autogenerated, so far)</p>
						<p>We're using a plain Javascript object as the model</p>
					</section>
					<section>
						<h2>index.html</h2>
						<p>Bind the template to the model</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;register&quot;&gt;
  &lt;h3&gt;Please enter your info&lt;/h3&gt;
  &lt;label for='firstName'&gt;First Name&lt;/label&gt;
  {{input value=model.firstName}}&lt;br/&gt;
  &lt;label for='lastName'&gt;Last Name&lt;/label&gt;
  {{input value=model.lastName}}&lt;br/&gt;
  &lt;label for='email'&gt;Email&lt;/label&gt;
  {{input value=model.email type='email'}}&lt;br/&gt;

  &lt;button&gt;Register&lt;/button&gt;
&lt;/script&gt;
						</code></pre>
						<p>This binds the input helpers to the model returned by the Route object</p>
					</section>
					<section>
						<h2>index.html</h2>
						<p>Bind an action to the Register button</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;register&quot;&gt;
  &lt;h3&gt;Please enter your info&lt;/h3&gt;
  &lt;label for='firstName'&gt;First Name&lt;/label&gt;
  {{input value=model.firstName}}&lt;br/&gt;
  &lt;label for='lastName'&gt;Last Name&lt;/label&gt;
  {{input value=model.lastName}}&lt;br/&gt;
  &lt;label for='email'&gt;Email&lt;/label&gt;
  {{input value=model.email type='email'}}&lt;br/&gt;

  &lt;button {{action &quot;register&quot;}}&gt;Register&lt;/button&gt;
&lt;/script&gt;
						</code></pre>
						<p>When the button is clicked, the <em>register</em> action is sent to the controller associated to the template</p>
						<p>The controller is currently autogenerated so it can't really do anything useful. Lets correct this!</p>
					</section>

					<section>
						<h2>js/app.js</h2>
						<p>Create a <em>Register</em> controller</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.RegisterController = Ember.Controller.extend({
  actions: {
    register: function() {
      var newAttendant = Ember.copy(this.get('model'));
      App.attendants.push(newAttendant);
      this.transitionToRoute('index');
    }
  }
});
						</code></pre>
						<p>This controller will be associated to the <em>register</em> template</p>
						<p>The <em>register</em> function makes a copy of the controller's model and adds it to the attendants list</p>
						<p>Last, transition back to the <em>index</em> route</p>
					</section>

					<section>
						<h2>js/app.js</h2>
						<p>Create the attendant list</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.attendants = [];
						</code></pre>
						<p>This is just a plain javascript array to hold the attendants</p>
						<p>It is initialized on page refresh so, if you reload the page, the attendants are lost</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Lets add an attendants admin page</h2>
						<p>We need to:</p>
						<ul>
							<li class="fragment">Create a <em>Attendants</em> Route</li>
							<li class="fragment">Link to attendants page in index template</li>
							<li class="fragment">Add an <em>attendants</em> template</li>
						</ul>
					</section>

					<section>
						<h2>js/app.js</h2>
						<p>Create an <em>Attendants</em> route</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.Router.map(function() {
  // put your routes here
  this.route('register');
  this.route('attendants');
});
						</code></pre>
					</section>

					<section>
						<h2>index.html</h2>
						<p>Add link to attendants admin page in index template</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;index&quot;&gt;
  &lt;h2&gt;Welcome to the Ember.js Conf 2015&lt;/h2&gt;

  {{#link-to 'register'}}Register here{{/link-to}} to get you ticket to the best confererce in the ember.js world.&lt;br/&gt;

  &lt;br/&gt;
  &lt;br/&gt;
  &lt;br/&gt;
  &lt;br/&gt;
  If you're an admin, enter the attendant page {{#link-to 'attendants'}}here{{/link-to}}
&lt;/script&gt;
						</code></pre>
					</section>

					<section>
						<h2>index.html</h2>
						<p>Add an <em>attendants</em> template</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;attendants&quot;&gt;
  &lt;h2&gt;Ember.js Conference 2015 attendant list&lt;/h2&gt;
  &lt;ul&gt;
    {{#each attendant in model}}
      &lt;li&gt;{{attendant.lastName}}, {{attendant.firstName}}. &amp;lt;{{attendant.email}}&amp;gt;&lt;/li&gt;
    {{/each}}
  &lt;/ul&gt;

  &lt;br/&gt;
  {{#link-to 'index'}}Return to conference page{{/link-to}}
&lt;/script&gt;
						</code></pre>
						<p>The {{each}} helper iterates over the elements in the model, i.e. each attendant</p>
						<p>Also defines a variable name to refer to each element of the model inside the body of the {{each}} helper</p>
					</section>

					<section>
						<h2>Data binding</h2>
						<p>Bind a controller to the <em>attendants</em> template</p>
					</section>
					<section>
						<h2>js/app.js</h2>
						<p>Create an <em>Attendants</em> Route to set the model for the template</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.AttendantsRoute = Ember.Route.extend({
  model: function() {
    return App.attendants;
  }
});
						</code></pre>
						<p>The model is exposed to the template through a controller (autogenerated, so far)</p>
					</section>
				</section>

				<section>
					<section>
						<h2>Lets add an attendant details admin page</h2>
						<p>We need to:</p>
						<ul>
							<li class="fragment">Create a <em>About</em> Route below <em>Attendants</em> Route</li>
							<li class="fragment">Link to attendants' about page in index template</li>
							<li class="fragment">Add an <em>attendants/about</em> template</li>
						</ul>
					</section>

					<section>
						<h2>js/app.js</h2>
						<p>Create an <em>About</em> route</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.Router.map(function() {
  // put your routes here
  this.route('register');
  this.route('attendants', function() {
    this.route('about', { path: '/:attendant_id/about' });
  });
});
						</code></pre>
						<p>This path has a parameter: <em>attendant_id</em>, that will be parsed by Ember when transitioning to this route and made available to the corresponding Route's <em>model</em> function</p>
						<p>This route will be handled by an <em>AttendantsAboutRoute</em>, an <em>AttendantsAboutController</em> and will use an <em>attendants/about</em> template</p>
					</section>

					<section>
						<h2>index.html</h2>
						<p>Add an outlet to show the <em>about</em> template inside the <em>attendants</em> template</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;attendants&quot;&gt;
  &lt;h2&gt;Ember.js Conference 2015 attendant list&lt;/h2&gt;
  &lt;ul&gt;
    {{#each attendant in model}}
      &lt;li&gt;
        {{attendant.lastName}}, {{attendant.firstName}}. &amp;lt;{{attendant.email}}&amp;gt;
      &lt;/li&gt;
    {{/each}}
  &lt;/ul&gt;

  {{outlet}}

  &lt;br/&gt;
  {{#link-to 'index'}}Return to conference page{{/link-to}}
&lt;/script&gt;
						</code></pre>
					</section>

					<section>
						<h2>index.html</h2>
						<p>Add a link to transition to the attendants' about route</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;attendants&quot;&gt;
  &lt;h2&gt;Ember.js Conference 2015 attendant list&lt;/h2&gt;
  &lt;ul&gt;
    {{#each attendant in model}}
      &lt;li&gt;
        {{attendant.lastName}}, {{attendant.firstName}}. &amp;lt;{{attendant.email}}&amp;gt;
        {{#link-to 'attendants.about' attendant}}About{{/link-to}}
      &lt;/li&gt;
    {{/each}}
  &lt;/ul&gt;

  ...
&lt;/script&gt;
						</code></pre>
						<p>The name of the route is <em>attendants.about</em></p>
						<p>We pass the attendant model so it can generate the correct URL</p>
					</section>

					<section>
						<h2>index.html</h2>
						<p>Add an <em>attendants/about</em> template</p>
						<pre><code class="handlebars" data-trim style="font-size: 18px;">
&lt;script type=&quot;text/x-handlebars&quot; id=&quot;attendants/about&quot;&gt;
  &lt;h3&gt;Ember.js Conference 2015 attendant details&lt;/h3&gt;

  First Name: {{model.firstName}}&lt;br/&gt;
  Last Name: {{model.lastName}}&lt;br/&gt;
  Email: {{model.email}}&lt;br/&gt;
&lt;/script&gt;
						</code></pre>
					</section>

					<section>
						<h2>Data binding</h2>
						<p>Bind a controller to the <em>attendants/about</em> template</p>
					</section>
					<section>
						<h2>js/app.js</h2>
						<p>Create an <em>AttendantsAbout</em> Route to set the model for the template</p>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.AttendantsAboutRoute = Ember.Route.extend({
  model: function(params) {
    return App.attendants.findBy('id', params.attendant_id);
  }
});
						</code></pre>
						<p>The model function receives a params object with properties set to the parameters specified in the path property of the router configuration</p>
						<p>For an <em class="fragment highlight-blue">:attendants_id</em> parameter in path, an <em class="fragment highlight-blue">attendants_id</em> property is added to params object</p>
					</section>
				</section>

				<section>
					<h2>Conference Registration done</h2>
				</section>

				<section>
					<h2>Ember.js Summary</h2>
					<ul>
						<li class="fragment">Open Source client-side Javascript web application framework</li>
						<li class="fragment">Based on the Model View Controller pattern</li>
						<li class="fragment">Allows to build Single Page Applications</li>
						<li class="fragment">Rich object model</li>
						<li class="fragment">Declarative two-way binding</li>
						<li class="fragment">Automatically-updating templates</li>
						<li class="fragment">Powerful router for managing application state</li>
					</ul>
				</section>

				<section>
					<h3>Part 2</h3>
					<h1>Ember Data</h1>
				</section>

				<section>
					<h1>Ember Data</h1>
					<h3>A data persistence library for Ember.js</h3>
					<p><a href="https://github.com/emberjs/data">https://github.com/emberjs/data</a></p>
				</section>

				<section>
					<section>
						<h1>Overview</h1>
						<p class="fragment">Library for robustly managing model data</p>
						<p class="fragment">Agnostic to the underlying persistence mechanism</p>
						<p class="fragment">Provides many of the facilities of an ORM</p>
						<p class="fragment">Uses Promises/A+ for loading/saving records</p>
					</section>
				</section>
	
				<section>
					<h1>Old, manual way</h1>
					<p class="fragment">Asynchronous requests</p>
				</section>

				<section>
					<section>
						<h1>Attendants REST API</h1>
						<p class="fragment">Will be our attendants persistence layer</p>
						<p class="fragment">Very simple REST API build with node.js and express.js</p>
					</section>
					<section>
						<h2>server/package.json</h2>
						<pre><code class="json" data-trim style="font-size: 18px;">
{
  "name": "express-api",
  "description": "Simple Express REST API server",
  "private" : true,
  "version": "0.0.1",
  "dependencies": {
    "express": "3.x",
    "cors": "2.7.x"
  },
  "main" : "server"
}
						</code></pre>
					</section>
					<section>
						<h2>Install node packages</h2>
						<pre><code class="bash" data-trim style="font-size: 18px;">
$ cd server
$ npm install
						</code></pre>
					</section>
					<section>
						<h2>Run API server</h2>
						<pre><code class="bash" data-trim style="font-size: 18px;">
$ node server.js
listening on port 3000
						</code></pre>
					</section>
					<section>
						<h3>Navigate to</h3>
						<p>http://localhost:3000/attendants</p>
						<pre><code class="bash" data-trim style="font-size: 18px;">
$ curl http://localhost:3000/attendants
[
  {
    "id": 1,
    "firstName": "John",
    "lastName": "Smith",
    "email": "john.smith@example.com"
  },
  {
    "id": 2,
    "firstName": "Jane",
    "lastName": "Doe",
    "email": "jane.doe@example.com"
  }
]
						</code></pre>
					</section>
					<section>
						<h3>Navigate to</h3>
						<p>http://localhost:3000/attendants/1</p>
						<pre><code class="bash" data-trim style="font-size: 18px;">
$ curl http://localhost:3000/attendants/1
{
  "id": 1,
  "firstName": "John",
  "lastName": "Smith",
  "email": "john.smith@example.com"
}
						</code></pre>
					</section>
				</section>

				<section>
					<section>
						<h1>Modify Conference Registration App</h1>
					</section>
					<section>
						<h2>js/app.js</h2>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.attendants = [];
						</code></pre>
						<p>Delete the App.attendants array</p>
					</section>
					<section>
						<h2>js/app.js</h2>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.AttendantsRoute = Ember.Route.extend({
  model: function() {
    return Ember.$.getJSON('http://localhost:3000/attendants');
  }
});
						</code></pre>
						<p class="fragment">AttendantsRoute now get its model from REST API</p>
						<p class="fragment">Ember.$.getJSON() does an asynchronous GET request and returns a promise</p>
						<p class="fragment">When the promise resolves, Ember refreshes the template and shows the attendants list</p>
						<p class="fragment">Go to index.html#/attendants URL</p>
					</section>
					<section>
						<h2>js/app.js</h2>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.AttendantsAboutRoute = Ember.Route.extend({
  model: function(params) {
    return Ember.$.getJSON('http://localhost:3000/attendants/' + params.attendant_id);
  }
});
						</code></pre>
						<p class="fragment">AttendantsAboutRoute now get its model from REST API, too</p>
						<p class="fragment">When the promise resolves, Ember can refresh the <em>about</em> template with the data returned from API server</p>
						<p class="fragment">Go to index.html#/attendants/1/about URL</p>
					</section>
					<section>
						<h2>js/app.js</h2>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
App.RegisterRoute = Ember.Route.extend({
  model: function() {
    return { firstName: "", lastName: "", email: ""}
  }
});
						</code></pre>
						<p class="fragment">Remove the id property from RegisterRoute model</p>
						<p class="fragment">This will be assigned by the REST API when saving the new attendant</p>
						<p class="fragment">Go to index.html#/register URL</p>
					</section>
					<section>
						<h2>js/app.js</h2>
						<pre><code class="javascript" data-trim style="font-size: 18px;">
register: function() {
  var newAttendant = Ember.copy(this.get('model'));
  var self = this;

  Ember.$.post('http://localhost:3000/attendants', newAttendant).then(function(data) {
    self.transitionToRoute('index');
  });
}
						</code></pre>
						<p class="fragment">Change the <em>register</em> action so that now saves to the API server</p>
						<p class="fragment">This will be assigned by the REST API when saving the new attendant</p>
						<p class="fragment">You can now submit the register form and save the data to the API rest</p>
					</section>
				</section>

				<section>
						<h1>Thank you!</h1>
						<p>Miguel Cobá</p>
						<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
							<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" />
						</a>
						<br />
						<small>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</small>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
</html>
